(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[924],{9874:(e,a,t)=>{Promise.resolve().then(t.bind(t,6755)),Promise.resolve().then(t.t.bind(t,4753,23))},6755:(e,a,t)=>{"use strict";t.d(a,{default:()=>o});var r=t(1047),l=t(6847);let n=e=>{let{canvasRef:a,analyserRef:t}=e;if(!a.current)return;let r=new Uint8Array(256),l=()=>{if(!t.current||!a.current)return;let e=t.current,n=a.current,i=n.getContext("2d");if(!i)return;let u=new Uint8Array(e.frequencyBinCount);e.getByteFrequencyData(u);for(let e=0;e<u.length;e++)r[e]=.8*r[e]+.19999999999999996*u[e];i.clearRect(0,0,n.width,n.height);let s=0;for(let e=0;e<r.length;e++){s=8*e;let a=Math.pow((e+1)/r.length,.5),t=r[e]*a,l=i.createLinearGradient(0,0,n.width,n.height);l.addColorStop(.2,"#824ccea1"),l.addColorStop(.5,"#7be26d94"),l.addColorStop(1,"#824cce63"),i.fillStyle=l,i.fillRect(s,n.height,8,-(3*t))}requestAnimationFrame(l)};l()};var i=t(3217),u=t(9398),s=t.n(u);let o=e=>{let{audioSrc:a,title:t,imageSrc:u,imageAlt:o}=e,d=(0,l.useRef)(null),c=(0,l.useRef)(null),m=(0,l.useRef)(null),_=(0,l.useRef)(null),[p,f]=(0,l.useState)(!1),[g,v]=(0,l.useState)(0),[y,h]=(0,l.useState)(1);(0,l.useEffect)(()=>{let e=d.current;if(!e)return;let a=()=>{e.duration&&v(e.currentTime/e.duration*100)};return e.addEventListener("timeupdate",a),()=>{e.removeEventListener("timeupdate",a)}},[]);let P=async()=>{let e=d.current,a=m.current;if(e&&a){if(p)e.pause(),f(!1);else{if(!_.current){let a=new AudioContext;"suspended"===a.state&&await a.resume();let t=a.createMediaElementSource(e),r=a.createAnalyser();r.fftSize=256,t.connect(r),r.connect(a.destination),_.current=r,n({canvasRef:m,analyserRef:_})}e.play(),f(!0)}}};return(0,r.jsxs)("div",{className:s().audioPlayer,children:[(0,r.jsx)("div",{className:s().title,children:t}),(0,r.jsxs)("div",{className:s().playerImageContainer,children:[(0,r.jsx)("div",{className:s().imageContainer,children:(0,r.jsx)(i.default,{src:u,alt:o,fill:!0,style:{objectFit:"contain"}})}),(0,r.jsx)("canvas",{ref:m,width:200,height:100,className:s().canvas})]}),(0,r.jsx)("audio",{ref:d,src:a}),(0,r.jsx)("button",{className:s().playPause,onClick:P,children:p?"||":">"}),(0,r.jsx)("label",{htmlFor:"trackScrub",className:s().labels,children:"Track"}),(0,r.jsx)("input",{id:"trackScrub",ref:c,type:"range",min:"0",max:"100",value:g,onChange:e=>{let a=d.current;if(!a)return;let t=Number(e.target.value);a.currentTime=t/100*a.duration,v(t)},className:s().progressBar}),(0,r.jsx)("label",{htmlFor:"volume",className:s().labels,children:"Volume"}),(0,r.jsx)("input",{id:"volume",type:"range",min:"0",max:"1",step:"0.01",value:y,onChange:e=>{let a=d.current;if(!a)return;let t=Number(e.target.value);a.volume=t,h(t)},className:s().volumeControl})]})}},3217:(e,a,t)=>{"use strict";t.d(a,{default:()=>l.a});var r=t(8713),l=t.n(r)},8713:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),function(e,a){for(var t in a)Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}(a,{default:function(){return s},getImageProps:function(){return u}});let r=t(1286),l=t(3390),n=t(6382),i=r._(t(6806));function u(e){let{props:a}=(0,l.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(a))void 0===t&&delete a[e];return{props:a}}let s=n.Image},9398:e=>{e.exports={audioPlayer:"audioPlayer_audioPlayer__1Z8Sl",canvas:"audioPlayer_canvas__1ql3B",playerImageContainer:"audioPlayer_playerImageContainer__zkvyT",imageContainer:"audioPlayer_imageContainer__BTE3t",image:"audioPlayer_image__bsaqK",animationWrapper:"audioPlayer_animationWrapper__0Xva2",playPause:"audioPlayer_playPause__nURaO",title:"audioPlayer_title__TdHmO",labels:"audioPlayer_labels__J3KAm"}},4753:e=>{e.exports={main:"detailPage_main__jOS11",webPreviewWrapper:"detailPage_webPreviewWrapper__KqSFR",webPreview:"detailPage_webPreview__NsiOs",infoWrapper:"detailPage_infoWrapper__8hNzk",mixcloudWrapper:"detailPage_mixcloudWrapper__rYafx",page:"detailPage_page__8b8VR"}}},e=>{var a=a=>e(e.s=a);e.O(0,[530,382,721,59,358],()=>a(9874)),_N_E=e.O()}]);
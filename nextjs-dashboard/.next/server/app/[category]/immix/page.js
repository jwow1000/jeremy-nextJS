(()=>{var e={};e.id=924,e.ids=[924],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4911:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>s.a,__next_app__:()=>c,pages:()=>d,routeModule:()=>m,tree:()=>u});var a=t(6186),n=t(6557),i=t(6437),s=t.n(i),l=t(4842),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(r,o);let u=["",{children:["[category]",{children:["immix",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5132)),"/Users/jerrijung/Documents/jeremy-nextJS/nextjs-dashboard/app/[category]/immix/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,483)),"/Users/jerrijung/Documents/jeremy-nextJS/nextjs-dashboard/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,571,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,1430,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,5055,23)),"next/dist/client/components/unauthorized-error"]}],d=["/Users/jerrijung/Documents/jeremy-nextJS/nextjs-dashboard/app/[category]/immix/page.tsx"],c={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/[category]/immix/page",pathname:"/[category]/immix",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},3902:(e,r,t)=>{Promise.resolve().then(t.bind(t,2408))},6950:(e,r,t)=>{Promise.resolve().then(t.bind(t,3318))},3318:(e,r,t)=>{"use strict";t.d(r,{default:()=>u});var a=t(5422),n=t(719);let i=({canvasRef:e,analyserRef:r})=>{if(!e.current)return;let t=new Uint8Array(256),a=()=>{if(!r.current||!e.current)return;let n=r.current,i=e.current,s=i.getContext("2d");if(!s)return;let l=new Uint8Array(n.frequencyBinCount);n.getByteFrequencyData(l);for(let e=0;e<l.length;e++)t[e]=.8*t[e]+.19999999999999996*l[e];s.clearRect(0,0,i.width,i.height);let o=0;for(let e=0;e<t.length;e++){o=8*e;let r=Math.pow((e+1)/t.length,.5),a=t[e]*r,n=s.createLinearGradient(0,0,i.width,i.height);n.addColorStop(.2,"#824ccea1"),n.addColorStop(.5,"#7be26d94"),n.addColorStop(1,"#824cce63"),s.fillStyle=n,s.fillRect(o,i.height,8,-(3*a))}requestAnimationFrame(a)};a()};var s=t(733),l=t(4673),o=t.n(l);let u=({audioSrc:e,title:r,imageSrc:t,imageAlt:l})=>{let u=(0,n.useRef)(null),d=(0,n.useRef)(null),c=(0,n.useRef)(null),m=(0,n.useRef)(null),[p,x]=(0,n.useState)(!1),[g,h]=(0,n.useState)(0),[f,_]=(0,n.useState)(1);(0,n.useEffect)(()=>{let e=u.current;if(!e)return;let r=()=>{e.duration&&h(e.currentTime/e.duration*100)};return e.addEventListener("timeupdate",r),()=>{e.removeEventListener("timeupdate",r)}},[]);let y=async()=>{let e=u.current,r=c.current;if(e&&r){if(p)e.pause(),x(!1);else{if(!m.current){let r=new AudioContext;"suspended"===r.state&&await r.resume();let t=r.createMediaElementSource(e),a=r.createAnalyser();a.fftSize=256,t.connect(a),a.connect(r.destination),m.current=a,i({canvasRef:c,analyserRef:m})}e.play(),x(!0)}}};return(0,a.jsxs)("div",{className:o().audioPlayer,children:[(0,a.jsx)("div",{className:o().title,children:r}),(0,a.jsxs)("div",{className:o().playerImageContainer,children:[(0,a.jsx)("div",{className:o().imageContainer,children:(0,a.jsx)(s.default,{src:t,alt:l,fill:!0,style:{objectFit:"contain"}})}),(0,a.jsx)("canvas",{ref:c,width:200,height:100,className:o().canvas})]}),(0,a.jsx)("audio",{ref:u,src:e}),(0,a.jsx)("button",{className:o().playPause,onClick:y,children:p?"||":">"}),(0,a.jsx)("label",{htmlFor:"trackScrub",className:o().labels,children:"Track"}),(0,a.jsx)("input",{id:"trackScrub",ref:d,type:"range",min:"0",max:"100",value:g,onChange:e=>{let r=u.current;if(!r)return;let t=Number(e.target.value);r.currentTime=t/100*r.duration,h(t)},className:o().progressBar}),(0,a.jsx)("label",{htmlFor:"volume",className:o().labels,children:"Volume"}),(0,a.jsx)("input",{id:"volume",type:"range",min:"0",max:"1",step:"0.01",value:f,onChange:e=>{let r=u.current;if(!r)return;let t=Number(e.target.value);r.volume=t,_(t)},className:o().volumeControl})]})}},4673:e=>{e.exports={audioPlayer:"audioPlayer_audioPlayer__1Z8Sl",canvas:"audioPlayer_canvas__1ql3B",playerImageContainer:"audioPlayer_playerImageContainer__zkvyT",imageContainer:"audioPlayer_imageContainer__BTE3t",image:"audioPlayer_image__bsaqK",animationWrapper:"audioPlayer_animationWrapper__0Xva2",playPause:"audioPlayer_playPause__nURaO",title:"audioPlayer_title__TdHmO",labels:"audioPlayer_labels__J3KAm"}},4022:e=>{e.exports={main:"detailPage_main__jOS11",webPreviewWrapper:"detailPage_webPreviewWrapper__KqSFR",webPreview:"detailPage_webPreview__NsiOs",infoWrapper:"detailPage_infoWrapper__8hNzk",mixcloudWrapper:"detailPage_mixcloudWrapper__rYafx",page:"detailPage_page__8b8VR"}},5132:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var a=t(3002),n=t(879),i=t(2408),s=t(4022),l=t.n(s);async function o(){let e=await (0,n.N7)("immix"),r=await (0,n.dG)();return console.log("looke at that",r),(0,a.jsxs)("main",{className:l().main,children:[(0,a.jsxs)("div",{className:l().infoWrapper,children:[(0,a.jsx)("h1",{className:l().postTitle,children:e.title}),(0,a.jsx)("p",{className:l().description,children:e.acfPosts.description})]}),(0,a.jsx)("section",{className:l().imageSection,children:r&&(0,a.jsx)("div",{className:l().mixcloudWrapper,children:r.map((e,r)=>(0,a.jsx)(i.default,{audioSrc:`/audio/immix-soundfiles/${e.acfPosts.immixInternalLink}`,imageAlt:e.featuredImage.node.altText,imageSrc:e.featuredImage.node.sourceUrl,title:e.title},`immix-track${r}`))})})]})}},2408:(e,r,t)=>{"use strict";t.d(r,{default:()=>a});let a=(0,t(5002).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jerrijung/Documents/jeremy-nextJS/nextjs-dashboard/app/lib/audioPlayer.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jerrijung/Documents/jeremy-nextJS/nextjs-dashboard/app/lib/audioPlayer.tsx","default")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[751,494],()=>t(4911));module.exports=a})();